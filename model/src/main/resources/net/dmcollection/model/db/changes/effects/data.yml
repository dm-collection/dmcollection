databaseChangeLog:
  - changeSet:
      id: clear-effect-table
      author: luk-lo
      context: '!test'
      preConditions:
        - tableExists:
            tableName: EFFECT
      runAlways: true
      changes:
        - delete:
            tableName: EFFECT
  - changeSet:
      id: fill-effect-table
      author: luk-lo
      context: '!test'
      preConditions:
        - tableExists:
            tableName: EFFECT
        - tableIsEmpty:
            tableName: EFFECT
      runAlways: true
      changes:
        - loadData:
            columns:
              - column:
                  header: ID
                  name: ID
                  type: NUMERIC
              - column:
                  header: TEXT
                  name: TEXT
                  type: STRING
              - column:
                  header: PARENT
                  name: PARENT
                  type: NUMERIC
              - column:
                  header: POSITION
                  name: POSITION
                  type: NUMERIC
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: net/dmcollection/card-data/csv/effect.csv
            quotchar: '"'
            separator: ','
            primaryKey: ID
            tableName: EFFECT
  - changeSet:
      id: clear-facet-effect-table
      author: luk-lo
      context: '!test'
      preConditions:
        - tableExists:
            tableName: FACET_EFFECT
      runAlways: true
      changes:
        - delete:
            tableName: FACET_EFFECT
  - changeSet:
      id: fill-facet-effect-table
      author: luk-lo
      context: '!test'
      preConditions:
        - tableExists:
            tableName: FACET_EFFECT
        - tableIsEmpty:
            tableName: FACET_EFFECT
      runAlways: true
      changes:
        - loadData:
            columns:
              - column:
                  header: CARD_FACETS
                  name: CARD_FACETS
                  type: NUMERIC
              - column:
                  header: POSITION
                  name: POSITION
                  type: NUMERIC
              - column:
                  header: EFFECT
                  name: EFFECT
                  type: NUMERIC
            commentLineStartsWith: '#'
            encoding: UTF-8
            file: net/dmcollection/card-data/csv/facet_effect.csv
            quotchar: '"'
            separator: ','
            primaryKey: CARD_FACETS,POSITION,EFFECT
            tableName: FACET_EFFECT
